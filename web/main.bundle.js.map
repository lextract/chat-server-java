{"version":3,"sources":["webpack:///./src/app/constants.ts","webpack:///./src/app/services/requestOptionsHelper.ts","webpack:///./src/app/services/event.service.ts","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/messenger/messenger.component.ts","webpack:///./src/app/models/Message.ts","webpack:///./src/app/models/index.ts","webpack:///./src/app/not-found.component.ts","webpack:///./src/app/services/auth.service.ts","webpack:///./src/app/services/conversation.service.ts","webpack:///./src/app/services/message.service.ts","webpack:///./src/app/services/user.service.ts","webpack:///./src/app/sessionCtrl.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/events/events.component.ts","webpack:///./src/app/models/Conversation.ts","webpack:///./src/app/models/User.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/login/login.component.css","webpack:///./src/app/messenger/messenger.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/events/events.component.html","webpack:///./src/app/login/login.component.html","webpack:///./src/app/messenger/messenger.component.html","webpack:///ws (ignored)"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["//export const API_URL = \"http://localhost:4499/api\";\nexport const API_URL = \"/messenger-backend-java\";\nexport const CHAT_URL = \"ws://localhost:4499\";\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/constants.ts","import { Headers, RequestOptions } from '@angular/http';\n\nexport function jsonHeader() {\n  let headers = new Headers({ 'Content-Type': 'application/json' });\n  return new RequestOptions({ headers: headers });\n}\n\nexport function jwtHeader() {\n  let token = localStorage.getItem('jwtToken');\n  let headers = new Headers({ 'Authorization': 'Bearer ' + token });\n  return new RequestOptions({ headers: headers });\n}\n\nexport function jwtAndJson() {\n  let token = localStorage.getItem('jwtToken');\n  let headers = new Headers({\n    'Authorization': 'Bearer ' + token,\n    'Content-Type': 'application/json'\n  });\n  return new RequestOptions({ headers: headers });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/requestOptionsHelper.ts","import { Injectable } from '@angular/core';\nimport { Http, Jsonp, Response, URLSearchParams  } from '@angular/http';\nimport { Observable } from 'rxjs';\n\nimport { API_URL } from '../constants';\nimport { User } from '../models';\nimport * as roh from './requestOptionsHelper';\n\nconst endPoint = API_URL + '/event';\n\n@Injectable()\nexport class EventService {\n  constructor(\n    private http: Http\n  ) { }\n  getPublic() {\n    return this.http.get(endPoint, roh.jwtHeader())\n      .map(res => res.json())\n      .catch(handleError);\n  }\n  invite(idConversation: number, idEvent: number){\n    //let url = endPoint + \"?idConv=\" + idConversation  + \"&idEvent=\" + idEvent;\n    let body = { idConversation: idConversation, idEvent: idEvent };\n    return this.http.post(endPoint, body, roh.jwtAndJson())\n      .map(res => res.json())\n      .catch(handleError);\n  }\n}\n\nfunction handleError(error: Response | any) {\n  return Observable.throw(\"errMsg Event Service\");\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/event.service.ts","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { User } from '../models';\nimport { AuthService } from '../services/auth.service';\nimport * as SessionCtrl from '../sessionCtrl';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  userName = \"\";\n  userEmail = \"\";\n  userPass = \"\";\n  showLogin = true;\n  errorMessage = \"\";\n\n  constructor(\n    private router: Router,\n    private authSrv: AuthService,\n    //private cd: ChangeDetectorRef\n  ) { }\n  loginSubmit() {\n    this.errorMessage = \"\";\n    this.authSrv.login(this.userEmail, this.userPass).subscribe(user => {\n      SessionCtrl.setUser(user);\n      SessionCtrl.set('jwtToken',user.token);\n      // let sUser = JSON.stringify(user);\n      // localStorage.setItem('userId',user.id);\n      // localStorage.setItem('user',sUser);\n      this.router.navigate(['./messenger']);\n    }, (error) => {\n    this.errorMessage = \"Nombre de usuario o contraseña incorrectos.\";\n    console.log(typeof error);\n    console.log( error);\n\n    })\n  }\n  signinSubmit() {\n    this.errorMessage = \"\";\n    let user: User = new User();\n    user.name = this.userName;\n    user.email = this.userEmail;\n    user.password = this.userPass;\n    this.authSrv.signin(user).subscribe(res => {\n      this.loginSubmit();\n    }, error => {\n      this.errorMessage = \"Error: datos inválidos\";\n    })\n  }\n\n  ngOnInit() { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login.component.ts","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\n//import * as WebSo from 'ws';\n\nimport * as io from 'socket.io-client';\n\nimport { CHAT_URL } from '../constants';\nimport { ConversationService } from '../services/conversation.service';\nimport { UserService } from '../services/user.service';\nimport { MessageService } from '../services/message.service';\nimport { EventService } from '../services/event.service';\n\nimport { Message } from '../models/Message';\nimport { User, Conversation } from '../models';\nimport * as SessionCtrl from '../sessionCtrl';\n\n@Component({\n  selector: 'app-messenger',\n  templateUrl: './messenger.component.html',\n  styleUrls: ['./messenger.component.css']\n})\nexport class MessengerComponent implements OnInit, OnDestroy {\n  userName: string;\n  creatingConv = false;\n  currentConversation: Conversation;\n  conversations: Conversation[] = [];\n  messages: Message[] = [];\n  newMessage: string = \"\";\n  friends: User[] = [];\n  chatSocket: any;\n  timer: any;\n  eventsShowed = false;\n\n  constructor(\n    private router: Router,\n    private usersSrv: UserService,\n    private convsSrv: ConversationService,\n    private mesageSrv: MessageService,\n    private eventSrv: EventService\n  ) {\n    this.userName = SessionCtrl.getUser().name;\n    // TODO: fix machete!!!!!\n    this.timer = setInterval(() => {\n      this.convsSrv.getAll().subscribe(convs => this.conversations = convs);\n      if (this.currentConversation)\n        this.mesageSrv.getByConversation(this.currentConversation.id)\n          .subscribe(messages => this.messages = messages);\n    },7000);\n\n  }\n\n  ngOnInit() {\n    this.convsSrv.getAll().subscribe(convs => this.conversations = convs);\n    this.usersSrv.getFriends().subscribe(friends => this.friends = friends);\n    //this.initlizeChatSocket();\n  }\n  ngOnDestroy() {\n    clearInterval(this.timer);\n  }\n  showConv(id: number) {\n    let conv = this.conversations.find(conv => conv.id == id);\n    this.currentConversation = conv;\n    this.mesageSrv.getByConversation(id).subscribe(messages => {\n      this.messages = messages;\n    })\n  }\n  newConv() {\n    this.creatingConv = true;\n  }\n  sendMessage() {\n    // console.log(\"enviando mensaje: \" + this.newMessage);\n    if (!this.newMessage) return;\n    //this.chatSocket.send(this.newMessage);\n    let m = new Message();\n    m.idConversation = this.currentConversation.id;\n    m.text = this.newMessage;\n    // this.messages.push(m);\n    this.mesageSrv.create(m).subscribe(message => {\n      // TODO: ineficient way, fix!, replace for websocket\n      this.showConv(this.currentConversation.id);\n      this.convsSrv.getAll().subscribe(convs => this.conversations = convs);\n    })\n    this.newMessage = \"\";\n  }\n  cancelNewConv() {\n    this.creatingConv = false;\n  }\n  createConv() {\n    let newConv = new Conversation();\n    let participants = this.friends.filter(friend => friend.checked);\n    newConv.name = participants.map(u => u.name).join(\", \");\n    newConv.usersIds = participants.map(r => r.id).join(',');\n\n    this.creatingConv = false;\n    this.convsSrv.create(newConv).subscribe(conv => {\n      //console.log(\"luego dre crear Conv: \" + re);\n      newConv.id = conv.id;\n      this.currentConversation = newConv;\n      this.conversations.push(newConv);\n      this.messages.splice(0);\n      this.convsSrv.getAll().subscribe(convs => this.conversations = convs);\n    })\n  }\n  eventPicked(idEvent: number){\n    if (idEvent){\n      this.eventSrv.invite(this.currentConversation.id, idEvent)\n        .subscribe(res => console.log(res), err => console.log(err));\n    }\n    this.eventsShowed = false;\n  }\n  cancelEventsPicker(){\n    this.eventsShowed = false;\n  }\n\n  initlizeChatSocket() {\n    // TODO:\n    //let cli = SocketIO\n    this.chatSocket = io('http://localhost:4499');\n    // //socket.on('message')\n\n\n    // // this.chatSocket = new WebSo(CHAT_URL);\n    // //   // , {\n    // //   //   headers: {\n    // //   //     Authorization: 'Bearer ' + localStorage.getItem('jwt_token')\n    // //   //   }\n    // //   // });\n    this.chatSocket.on(\"message\",(data) => {\n      console.log(\"recibiendo datos WSS\");\n      console.log(data);\n    })\n  }\n  logout() {\n    SessionCtrl.remUser();\n    this.router.navigate(['./login']);\n  }\n  showEvents(){\n    this.eventsShowed = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/messenger/messenger.component.ts","import {User} from './User';\n\nexport class Message{\n  id: number;\n  idUser: number;\n  text: string;\n  idConversation: number;\n  userName: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/Message.ts","// TODO: re-export all models\nexport * from './User';\nexport * from './Conversation';\nexport * from './Message';\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/index.ts","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'not-found',\n  template: '<h1 class=\"text-center\">Pagina No Econtrada</h1>',\n})\nexport class NotFoundComponent { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/not-found.component.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers, Response } from '@angular/http';\nimport { Observable } from 'rxjs';\n\nimport { API_URL } from '../constants';\nimport { User } from '../models';\nimport * as roh from './requestOptionsHelper';\n\nconst endPoint = API_URL + '/auth';\n\n@Injectable()\nexport class AuthService {\n\n  constructor(private http: Http) { }\n\n  login(email: string, password: string) {\n    let url = endPoint + '?email=' + email + '&password=' + password;\n    return this.http.get(url)\n      .map(res => res.json())\n      .catch(handleError);\n  }\n  signin(user: User) {\n    return this.http.post(endPoint, JSON.stringify(user), roh.jsonHeader())\n      .map(res => res.json())\n      .catch(handleError);\n  }\n\n}\n\nfunction handleError(error: Response | any) {\n  // In a real world app, you might use a remote logging infrastructure\n  let errorBody: any;\n  let errMsg: string;\n  if (error instanceof Response) {\n    // TODO: validar si es JSON response\n    errorBody = error.json() || '';\n    const err = errorBody.error || JSON.stringify(errorBody);\n    errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n  }\n  // else {\n  //   errMsg = error.message ? error.message : error.toString();\n  // }\n  return Observable.throw(errorBody);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/auth.service.ts","import { Injectable } from '@angular/core';\nimport { Http, Response, URLSearchParams } from '@angular/http';\nimport { Observable } from 'rxjs';\n\nimport { API_URL } from '../constants';\nimport { Conversation, User } from '../models';\nimport * as roh from './requestOptionsHelper';\n\nconst endPoint = API_URL + '/conversation';\nconst endPointUsers = API_URL + '/conversation/:id/users';\n\n@Injectable()\nexport class ConversationService {\n  constructor(private http: Http) { }\n\n  getAll() {\n    //let url = endPoint + \"?idUser=\" + localStorage.getItem(\"userId\");\n    return this.http.get(endPoint, roh.jwtHeader())\n      .map(res => res.json())\n      .catch(handleError);\n  }\n\n  create(conv: Conversation) {\n    // TODO: set idCreator inside backend\n    conv.idCreator = parseInt(localStorage.getItem(\"userId\"));\n    return this.http.post(endPoint, conv, roh.jwtAndJson())\n      .map(res => res.json())\n      .catch(handleError);\n  }\n\n  /**\n   * Agrega usuarios a una conversación en particular\n   * @param idConv id de la conversación\n   * @param idsUsers lista de los ids de usuarios que va agregar\n   */\n  addUsers(idConv: number, idsUsers: number[]){\n    let url = endPointUsers.replace(\":id\", idConv.toString());\n    return this.http.post(url, { idsUsers: idsUsers }).map(res => res.json());\n  }\n\n  /**\n   * Abandona la conversación (no la elimina)\n   * @param idConv id de la conversación\n   */\n  exit(idConv: number){\n    // TODO: set de jwt token header\n    let url = endPointUsers.replace(\":id\", idConv.toString());\n    return this.http.delete(url).map(res => res.json());\n  }\n}\n\nfunction handleError(error: Response | any) {\n  return Observable.throw(\"errMsg Conversation Service\");\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/conversation.service.ts","import { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { API_URL } from '../constants';\nimport { Message } from '../models';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\n\nimport * as roh from './requestOptionsHelper';\n\nconst endPoint = API_URL + '/message';\n\n@Injectable()\nexport class MessageService {\n  constructor(private http: Http) { }\n\n  getByConversation(idConv: number) {\n    let url = endPoint + \"?idConv=\" + idConv;\n    return this.http.get(url, roh.jwtHeader())\n      .map(res => res.json())\n      .catch(handleError);\n  }\n\n  create(message: Message) {\n    message.idUser = parseInt(localStorage.getItem(\"userId\"));\n    return this.http.post(endPoint, message, roh.jwtAndJson())\n      .map(res => res.json())\n      .catch(handleError);\n  }\n}\n\nfunction handleError(error: Response | any) {\n  return Observable.throw(\"errMsg Message Service\");\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/message.service.ts","import { Injectable } from '@angular/core';\nimport { Http, Jsonp, Response, URLSearchParams  } from '@angular/http';\nimport { Observable } from 'rxjs';\n\nimport { API_URL } from '../constants';\nimport { User } from '../models';\nimport * as roh from './requestOptionsHelper';\n\nconst endPoint = API_URL + '/user';\n\n@Injectable()\nexport class UserService {\n  constructor(\n    private http: Http\n  ) { }\n  getFriends() {\n    // TODO: con jwt el server conoce el id del usuario actual, devuelve la lista de amigos\n    return this.http.get(endPoint, roh.jwtHeader())\n      .map(res => res.json())\n      .catch(handleError);\n  }\n}\n\nfunction handleError(error: Response | any) {\n  return Observable.throw(\"errMsg User Service\");\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/user.service.ts","import { User } from './models'\n\nconst cache = new Map<string, any>();\nconst userKey = 'user';\n\nexport function setUser(user: User){\n  cache.set(userKey, user);\n  localStorage.setItem(userKey, JSON.stringify(user));\n}\n\nexport function getUser(): User{\n  if (cache.has(userKey))\n    return cache.get(userKey);\n  else {\n    return JSON.parse(localStorage.getItem(userKey));\n  }\n}\n\nexport function remUser(){\n  localStorage.removeItem(userKey);\n}\n\nexport function set(key: string, data: any, cached = true): void{\n  if (typeof data == 'object'){\n    localStorage.setItem(key, JSON.stringify(data));\n    if (cached) cache.set(key, data);\n  }\n  else {\n    localStorage.setItem(key, data);\n    if (cached) cache.set(key, data);\n  }\n}\n\nexport function get(key: string): any{\n  if (cache.has(key))\n    return cache.get(key);\n  else return JSON.parse(localStorage.getItem(key));\n}\n\nexport function remove(key: string){\n  cache.delete(key);\n  localStorage.removeItem(key);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/sessionCtrl.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 411;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 411\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\n//import 'jquery';\n//import 'bootstrap';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { NotFoundComponent } from './not-found.component';\nimport { LoginComponent }   from './login/login.component';\nimport { MessengerComponent }      from './messenger/messenger.component';\n//import { HeroDetailComponent }  from './hero-detail.component';\nconst routes: Routes = [\n  { path: '', redirectTo: '/login', pathMatch: 'full' },\n  { path: 'login',  component: LoginComponent },\n  //{ path: 'detail/:id', component: HeroDetailComponent },\n  { path: 'messenger',     component: MessengerComponent },\n  { path: '**', component: NotFoundComponent }\n];\n@NgModule({\n  imports: [ RouterModule.forRoot(routes) ],\n  exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app-routing.module.ts","import { Component } from '@angular/core';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule, JsonpModule } from '@angular/http';\n\nimport { AuthService } from './services/auth.service';\nimport { ConversationService } from './services/conversation.service';\nimport { MessageService } from './services/message.service';\nimport { UserService } from './services/user.service';\nimport { EventService } from './services/event.service';\n\nimport { AppComponent } from './app.component';\nimport { NotFoundComponent } from './not-found.component';\nimport { LoginComponent } from './login/login.component';\nimport { MessengerComponent } from './messenger/messenger.component';\nimport { EventsComponent } from './events/events.component';\n\n\nimport { AppRoutingModule }     from './app-routing.module';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NotFoundComponent,\n    LoginComponent,\n    MessengerComponent,\n    EventsComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    JsonpModule,\n    AppRoutingModule\n  ],\n  providers: [ AuthService, ConversationService, UserService, MessageService, EventService ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { User } from '../models';\nimport { EventService } from '../services/event.service';\nimport * as SessionCtrl from '../sessionCtrl';\n\n@Component({\n  selector: 'app-events',\n  templateUrl: './events.component.html',\n  //styleUrls: ['./login.component.css']\n})\nexport class EventsComponent implements OnInit {\n  idEvent = 0;\n  events = [];\n  @Output() onEventPicked = new EventEmitter<number>();\n  @Output() onCancel = new EventEmitter<any>();\n\n  constructor(\n    private router: Router,\n    private eventSrv: EventService\n  ) {\n    this.listEvents();\n  }\n  listEvents() {\n    this.eventSrv.getPublic().subscribe(events => {\n      this.events = events;\n    }, error => {\n      console.log(error);\n    })\n  }\n  cancel(){\n    this.onCancel.emit();\n  }\n  invite(){\n    this.onEventPicked.emit(this.idEvent);\n  }\n  eventChanged(idEvent: number){\n    this.idEvent = idEvent;\n  }\n  ngOnInit() { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/events/events.component.ts","export class Conversation{\n  id: number;\n  name: string;\n  idCreator: number;\n  lastMessageText: string;\n  usersIds: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/Conversation.ts","export class User{\n  id: number;\n  name: string;\n  email: string;\n  password: string;\n  checked?: boolean;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/User.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 604\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".logoPanel, .formsPanel{\\n  float:left;\\n  width: 50%;\\n  padding: 50px 60px;\\n}\\n.logoP1{\\n  background-image: url(/assets/images/un-mess.png);\\n  width: 400px;\\n  height: 215px;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center center;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.css\n// module id = 605\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n    Created on : Mar 5, 2017, 9:11:12 AM\\n    Author     : alex\\n*/\\n.areaMain{\\n    height: 100%;\\n    padding-top: 70px;\\n}\\n.areaMain .areaConversations{\\n    width: 32%;\\n    height: 100%;\\n    float: left;\\n    padding: 0 29px 23px;\\n    overflow-y: auto;\\n    position: relative;\\n}\\n.newPanel{\\n  position: absolute;\\n  bottom: 14px;\\n  right: 29px;\\n}\\n.areaMain .areaChat{\\n    width: 65%;\\n    display: inline-block;\\n    position: relative;\\n    height: 95%;\\n}\\n.areaMessage{\\n    position: absolute;\\n    bottom: 0;\\n    width: 100%;\\n}\\n.messagesArea{\\n  height: 80%;\\n  overflow-y: auto;\\n  padding-bottom: 40px;\\n}\\n.areaNewConv{\\n    height: 100%;\\n    float: left;\\n    padding: 0 29px 23px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/messenger/messenger.component.css\n// module id = 606\n// module chunks = 1","module.exports = \"<router-outlet></router-outlet>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 612\n// module chunks = 1","module.exports = \"<div class=\\\"panel panel-default\\\">\\n  <div class=\\\"panel-heading\\\">Panel heading without title</div>\\n  <div class=\\\"panel-body\\\">\\n    <div class=\\\"list-group\\\">\\n      <label *ngFor=\\\"let event of events\\\" for=\\\"{{'evento'+event.idEvent}}\\\"\\n          (click)=\\\"eventChanged(event.idEvent)\\\" class=\\\"list-group-item\\\">\\n        <input type=\\\"radio\\\" name=\\\"eventos\\\" id=\\\"{{'evento'+event.idEvent}}\\\"/>\\n        {{event.name}}\\n      </label>\\n\\n    </div>\\n    <div>\\n      <button (click)=\\\"cancel()\\\" class=\\\"btn btn-danger\\\">Cancelar</button>\\n      <button (click)=\\\"invite()\\\" class=\\\"btn btn-success\\\">Invitar</button>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/events/events.component.html\n// module id = 613\n// module chunks = 1","module.exports = \"<div class=\\\"h100\\\">\\n  <div class=\\\"logoPanel\\\">\\n    <div class=\\\"logoP1\\\"></div>\\n  </div>\\n  <div class=\\\"formsPanel\\\">\\n    <div *ngIf=\\\"showLogin\\\">\\n      <form (submit)=\\\"loginSubmit()\\\">\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"emailTxt\\\">Correo</label>\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"emailTxt\\\" placeholder=\\\"yisus@gmail.com\\\"\\n            [(ngModel)]=\\\"userEmail\\\" name=\\\"email\\\" required>\\n        </div>\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"passwordTxt\\\">Contraseña</label>\\n          <input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"passwordTxt\\\" placeholder=\\\"****\\\"\\n            [(ngModel)]=\\\"userPass\\\" name=\\\"password\\\" required>\\n        </div>\\n        <div class=\\\"checkbox\\\">\\n          <label>\\n            <input type=\\\"checkbox\\\"> Recordarme\\n          </label>\\n        </div>\\n        <div>\\n          <button class=\\\"btn btn-primary\\\">Ingresar</button>\\n          <a class=\\\"btn btn-default\\\" (click)=\\\"showLogin = false\\\">Registrarse</a>\\n        </div>\\n      </form>\\n    </div>\\n    <div *ngIf=\\\"!showLogin\\\">\\n      <form (submit)=\\\"signinSubmit()\\\">\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"nombreTxt\\\">Nombre</label>\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"nombreTxt\\\" placeholder=\\\"Yisus Christ\\\"\\n            [(ngModel)]=\\\"userName\\\" name=\\\"name\\\" required>\\n        </div>\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"emailTxt\\\">Correo</label>\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"emailTxt\\\" placeholder=\\\"yisus@gmail.com\\\"\\n            [(ngModel)]=\\\"userEmail\\\" name=\\\"email\\\" required>\\n        </div>\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"passwordTxt\\\">Contraseña</label>\\n          <input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"passwordTxt\\\" placeholder=\\\"****\\\"\\n            [(ngModel)]=\\\"userPass\\\" name=\\\"password\\\" required>\\n        </div>\\n        <div>\\n          <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Registrar</button>\\n          <a class=\\\"btn btn-default\\\" role=\\\"button\\\" (click)=\\\"showLogin = true\\\">Ingresar</a>\\n        </div>\\n      </form>\\n    </div>\\n    <span style=\\\"color:red;\\\">{{errorMessage}}</span>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.html\n// module id = 614\n// module chunks = 1","module.exports = \"<div class=\\\"h100\\\">\\n  <div class=\\\"areaMain\\\">\\n    <div class=\\\"areaConversations\\\">\\n      <div *ngIf=\\\"!creatingConv\\\" class=\\\"list-group\\\">\\n        <a *ngFor=\\\"let conv of conversations\\\" (click)=\\\"showConv(conv.id)\\\" class=\\\"list-group-item\\\">\\n          <strong>{{ conv.name }}</strong> {{ conv.lastMessageText }}\\n        </a>\\n      </div>\\n      <div *ngIf=\\\"!creatingConv\\\" class=\\\"newPanel\\\">\\n        <button (click)=\\\"newConv()\\\" class=\\\"btn btn-success\\\">Nueva</button>\\n      </div>\\n      <div *ngIf=\\\"creatingConv\\\" class=\\\"areaNewConv\\\">\\n        <div *ngFor=\\\"let friend of friends\\\">\\n          <label>\\n            <input type=\\\"checkbox\\\" [(ngModel)]=\\\"friend.checked\\\">\\n            <span>{{ friend.name }}</span>\\n          </label>\\n        </div>\\n        <div class=\\\"newPanel\\\">\\n          <button (click)=\\\"cancelNewConv()\\\" class=\\\"btn btn-danger\\\">Cancelar</button>\\n          <button (click)=\\\"createConv()\\\" class=\\\"btn btn-success\\\">Crear</button>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"areaChat\\\" *ngIf=\\\"!eventsShowed\\\">\\n      <div *ngIf=\\\"currentConversation\\\" class=\\\"panel panel-default h100\\\">\\n        <div class=\\\"panel-heading\\\">\\n          <span>{{currentConversation.name}}</span>\\n\\n          <ul class=\\\"nav navbar-nav navbar-right\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"showEvents()\\\">Invitar a Evento</button>\\n          </ul>\\n\\n        </div>\\n        <div class=\\\"panel-body messagesArea\\\">\\n          <div *ngFor=\\\"let message of messages\\\">\\n            <strong>{{ message.userName }}:  </strong>{{ message.text }}\\n          </div>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"!currentConversation\\\">\\n        <h2>Conversacion no seleccionada</h2>\\n      </div>\\n      <div class=\\\"areaMessage\\\">\\n        <form class=\\\"form-inline\\\" (submit)=\\\"sendMessage()\\\">\\n          <div class=\\\"input-group\\\">\\n            <input [value]=\\\"newMessage\\\" (input)=\\\"newMessage=$event.target.value\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Mensaje\\\">\\n            <div class=\\\"input-group-btn\\\">\\n              <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">Enviar</button>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n    </div>\\n    <div class=\\\"areaChat\\\" *ngIf=\\\"eventsShowed\\\">\\n      <app-events (onEventPicked)=\\\"eventPicked($event)\\\" (onCancel)=\\\"cancelEventsPicker()\\\"></app-events>\\n    </div>\\n  </div>\\n  <nav class=\\\"navbar navbar-default navbar-fixed-top\\\">\\n    <div class=\\\"container\\\">\\n      <a class=\\\"navbar-brand\\\" href=\\\"#\\\">UN Messenger</a>\\n      <strong>{{userName}}</strong>\\n      <ul class=\\\"nav navbar-nav navbar-right\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"logout()\\\">Cerrar sesión</button>\\n      </ul>\\n    </div>\\n  </nav>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/messenger/messenger.component.html\n// module id = 615\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 889\n// module chunks = 1"],"sourceRoot":""}